[
 {
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "event_frequency": "All",
  "modified": "2024-01-19 19:39:36.509104",
  "name": "enquiry on save",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "reference_doctype": "Enquiry",
  "script": "if doc.lead:\n    lead_doc=frappe.get_doc(\"Lead\",doc.lead)\n    lead_doc.status=\"Enquiry\"\n    lead_doc.save()",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Cancel",
  "event_frequency": "All",
  "modified": "2024-01-19 19:45:15.762556",
  "name": "Enquiry on cancel",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "reference_doctype": "Enquiry",
  "script": "if doc.lead:\n    lead_doc=frappe.get_doc(\"Lead\",doc.lead)\n    lead_doc.status=\"Lead\"\n    lead_doc.save()",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2024-01-19 19:54:11.640599",
  "name": "Quotation on submit",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "reference_doctype": "Quotation",
  "script": "if doc.enquiry:\n    enq=frappe.get_doc(\"Enquiry\",doc.enquiry)\n    enq.db_set(\"enquiry_status\",\"Quotation\")\n    \n    if enq.lead:\n        ld=frappe.get_doc(\"Lead\",enq.lead)\n        ld.db_set(\"status\",\"Quotation\")",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Cancel",
  "event_frequency": "All",
  "modified": "2024-01-19 19:54:31.118758",
  "name": "Quotation on cancel",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "reference_doctype": "Quotation",
  "script": "if doc.enquiry:\n    enq=frappe.get_doc(\"Enquiry\",doc.enquiry)\n    enq.db_set(\"enquiry_status\",\"Submitted\")\n    \n    if enq.lead:\n        ld=frappe.get_doc(\"Lead\",enq.lead)\n        ld.db_set(\"status\",\"Enquiry\")",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Validate",
  "event_frequency": "All",
  "modified": "2024-01-19 19:44:26.941722",
  "name": "Quotation validate",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "reference_doctype": "Quotation",
  "script": "if doc.enquiry:\n    enq=frappe.get_doc(\"Enquiry\",doc.enquiry)\n  \n    \n    if enq.docstatus==0:\n        frappe.throw(\"Enquiry is in Draftt\")",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "event_frequency": "All",
  "modified": "2024-01-23 21:26:28.861794",
  "name": "Sales Order Submit",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "reference_doctype": "Sales Order",
  "script": "if doc.items[0].prevdoc_docname:\n    quo=frappe.get_doc(\"Quotation\",doc.items[0].prevdoc_docname)\n    if quo.enquiry:\n        enq=frappe.get_doc(\"Enquiry\",quo.enquiry)\n        enq.db_set(\"enquiry_status\",\"Sales Order\")\n    \n        if enq.lead:\n            ld=frappe.get_doc(\"Lead\",enq.lead)\n            ld.db_set(\"status\",\"Converted\")\n    ",
  "script_type": "DocType Event"
 }
]